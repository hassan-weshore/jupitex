!function s(n,d,o){function c(a,e){if(!d[a]){if(!n[a]){var t="function"==typeof require&&require;if(!e&&t)return t(a,!0);if(l)return l(a,!0);var i=new Error("Cannot find module '"+a+"'");throw i.code="MODULE_NOT_FOUND",i}var r=d[a]={exports:{}};n[a][0].call(r.exports,function(e){return c(n[a][1][e]||e)},r,r.exports,s,n,d,o)}return d[a].exports}for(var l="function"==typeof require&&require,e=0;e<o.length;e++)c(o[e]);return c}({1:[function(e,a,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function i(){jQuery(function(o){function c(){var n;o(".artbees-was-image-picker__upload").on("click",function(e){e.preventDefault();var t=o(this),a=t.closest(".artbees-was-image-picker"),i=a.find(".artbees-was-image-picker__field"),r=a.find(".artbees-was-image-picker__preview"),s=a.find(".artbees-was-image-picker__remove");(n=wp.media.frames.frame=wp.media({title:o(this).data("title"),button:{text:o(this).data("button-text")},multiple:!1})).on("select",function(){var e=n.state().get("selection").first().toJSON(),a=void 0!==e.sizes.thumbnail?e.sizes.thumbnail.url:e.url;i.val(e.id),r.html('<img src="'+a+'" class="attachment-thumbnail size-thumbnail">'),t.addClass("artbees-was-image-picker__upload--edit"),s.show()}),n.open()}),o(".artbees-was-image-picker__remove").on("click",function(e){e.preventDefault();var a=o(this).closest(".artbees-was-image-picker"),t=a.find(".artbees-was-image-picker__field"),i=a.find(".artbees-was-image-picker__preview"),r=a.find(".artbees-was-image-picker__upload");t.val(""),i.html(""),r.removeClass("artbees-was-image-picker__upload--edit"),o(this).hide()})}function l(){0!==o(".artbees-color-swatch-picker").length&&(o(".artbees-color-swatch-picker").wpColorPicker(),o(".artbees-color-swatch").find("input").show())}function f(e){var a,t=o(e).find(".artbees-was-select, .artbees-was-product-select");!t.data("is-parent")||t.data("is-parent")&&"1"===t.val()||t.data("is-parent")&&"column"===t.val()||(a='.artbees-form-field[data-parent="'+t.data("is-parent")+'"]',o(a).addClass("swatch-collapsed"))}c(),l(),o(".artbees-form-field").each(function(e,a){o(a).data("conditional")===o("#attribute_type").val()&&(o(a).find("input").removeAttr("disabled"),o(a).find("select").removeAttr("disabled"),o(a).addClass("active"),f(a))}),o("#attribute_type").on("change",function(){var t=this.value;o(".artbees-form-field").removeClass("active"),o(".artbees-form-field").find("input").attr("disabled","disabled"),o(".artbees-form-field").find("select").attr("disabled","disabled"),o(".artbees-form-field").each(function(e,a){o(a).data("conditional")===t&&(o(a).addClass("active"),o(a).find("input").removeAttr("disabled"),o(a).find("select").removeAttr("disabled"),f(a))})}),o(".artbees-was-select").on("change",function(t){var i;void 0!==o(t.currentTarget).data("is-parent")&&(i=this.value,o(".artbees-form-field").each(function(e,a){void 0!==o(a).data("parent")&&o(t.currentTarget).data("is-parent")===o(a).data("parent")&&(o(a).removeClass("active"),o(a).addClass("swatch-collapsed"),(0<i||"column"===i)&&o(t.currentTarget).parents(".artbees-form-field").data("conditional")===o(a).data("conditional")&&(o(a).addClass("active"),o(a).removeClass("swatch-collapsed")))}))}),o(".artbees-was-attribute-wrapper").each(function(e,d){o(d).find(".artbees-form-field").each(function(e,a){o(a).data("conditional")===o(d).find("#product_attribute_type").val()&&o(a).parents(".artbees-was-attribute-wrapper").data("taxonomy")===o(a).data("taxonomy")&&(o(a).addClass("active"),f(a))}),o(d).find("#product_attribute_type").on("change",function(){var t=this.value;o(d).find(".artbees-form-field").removeClass("active"),o(d).find(".artbees-form-field").find("input").attr("disabled","disabled"),o(d).find(".artbees-form-field").find("select").attr("disabled","disabled"),o(d).find(".artbees-form-field").each(function(e,a){o(a).data("conditional")===t&&(o(a).addClass("active"),o(a).find("input").removeAttr("disabled"),o(a).find("select").removeAttr("disabled"),f(a))});var e,a,i,r,s=o(d).data("taxonomy"),n=o(d).data("product-id");e=t,a=d,i=s,r=n,wp.ajax.post({action:"artbees_product_swatches_generate_product_options",swatch_type:e,terms_taxonomy:i,product_id:r}).done(function(e){o(a).find("#artbees-was-terms-options").html(e),l(),c()})}),o(d).find(".artbees-was-product-select").on("change",function(t){var i;void 0!==o(t.currentTarget).data("is-parent")&&(i=this.value,o(d).find(".artbees-form-field").each(function(e,a){void 0!==o(a).data("parent")&&o(t.currentTarget).data("is-parent")===o(a).data("parent")&&(o(a).removeClass("active"),o(a).addClass("swatch-collapsed"),(0<i||"column"===i)&&o(t.currentTarget).parents(".artbees-form-field").data("conditional")===o(a).data("conditional")&&o(d).data("taxonomy")===o(a).data("taxonomy")&&(o(a).addClass("active"),o(a).removeClass("swatch-collapsed")))}))})});function a(){caches.keys().then(function(e){return Promise.all(e.map(function(e){return caches.delete(e)}))})}o(".edit-tags-php #submit").on("click",function(){setTimeout(function(){var e;0!==o(".artbees-color-swatch button").length&&(o(".artbees-color-swatch button").removeAttr("style"),a()),0!==o(".artbees-was-image-picker .artbees-was-image-picker__preview").length&&((e=o(".artbees-was-image-picker")).find(".artbees-was-image-picker__preview").find("img").remove(),e.find(".artbees-was-image-picker__upload--edit").removeClass("artbees-was-image-picker__upload--edit"),e.find(".artbees-was-image-picker__remove").hide(),a())},500)})})}(t.default=i)()},{}]},{},[1]);